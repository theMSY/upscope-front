(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{lbMQ:function(t,n,e){"use strict";e.r(n);var c=e("ofXK"),r=e("tyNb"),i=e("fXoL");const s=function(){return["/upscope/list"]},o=function(){return["/upscope/manager"]},a=function(){return["/upscope"]};let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-upscope"]],decls:14,vars:6,consts:[[1,"row","p-4","align-items-center"],[1,"col-9"],[1,"col-1"],[1,"btn","btn-link",3,"routerLink"]],template:function(t,n){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Cc(3,"Welcome To Upscope Demo Section"),i.Qb(),i.Qb(),i.Rb(4,"div",2),i.Rb(5,"button",3),i.Cc(6,"User"),i.Qb(),i.Qb(),i.Rb(7,"div",2),i.Rb(8,"button",3),i.Cc(9,"Agent"),i.Qb(),i.Qb(),i.Rb(10,"div",2),i.Rb(11,"button",3),i.Cc(12,"home"),i.Qb(),i.Qb(),i.Qb(),i.Nb(13,"router-outlet")),2&t&&(i.zb(5),i.kc("routerLink",i.nc(3,s)),i.zb(3),i.kc("routerLink",i.nc(4,o)),i.zb(3),i.kc("routerLink",i.nc(5,a)))},directives:[r.b,r.e],styles:[""]}),t})();var u=e("AytR"),l=e("tk/3");let p=(()=>{class t{constructor(t){this.httpClient=t}all(){return this.httpClient.get(u.a.url+"/clients")}generateWatchUrl(t){return this.httpClient.get(u.a.url+"/clients/"+t+"/watch")}}return t.\u0275fac=function(n){return new(n||t)(i.Zb(l.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function f(t,n){1&t&&(i.Rb(0,"h3",5),i.Cc(1,"Loading Managers' list"),i.Qb())}const h=function(t){return[t]};function d(t,n){if(1&t&&(i.Rb(0,"a",12),i.Cc(1,"Request a Meeting"),i.Qb()),2&t){const t=i.fc().$implicit;i.kc("routerLink",i.oc(1,h,"/upscope/watch/"+t.short_id))}}function g(t,n){if(1&t&&(i.Rb(0,"div",7),i.Rb(1,"div",8),i.Rb(2,"h5",9),i.Cc(3),i.Qb(),i.Rb(4,"p",10),i.Cc(5,"Status : "),i.Rb(6,"span"),i.Cc(7),i.Qb(),i.Qb(),i.Ac(8,d,2,3,"a",11),i.Qb(),i.Qb()),2&t){const t=n.$implicit,e=i.fc(2);i.zb(3),i.Ec("Agent : ",t.nickname,""),i.zb(4),i.Dc(e.status(t)),i.zb(1),i.kc("ngIf",t.is_online)}}function m(t,n){if(1&t&&(i.Rb(0,"div"),i.Ac(1,g,9,3,"div",6),i.Qb()),2&t){const t=i.fc();i.zb(1),i.kc("ngForOf",t.visitors)}}function v(t,n){if(1&t){const t=i.Sb();i.Rb(0,"button",13),i.dc("click",(function(){return i.tc(t),i.fc().fetch()})),i.Cc(1,"Refresh"),i.Qb()}}let R=(()=>{class t{constructor(t){this.upscopeService=t,this.visitors=[],this.loading=!0}ngOnInit(){this.fetch()}status(t){return t.is_online?"online":"offline"}fetch(){this.loading=!0,this.upscopeService.all().subscribe(t=>{this.visitors=t.visitors,this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(i.Mb(p))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-clients-list"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-12"],["class","text-center",4,"ngIf"],[4,"ngIf"],["class","btn btn-primary float-right",3,"click",4,"ngIf"],[1,"text-center"],["class","card mb-2",4,"ngFor","ngForOf"],[1,"card","mb-2"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","float-right btn btn-primary",3,"routerLink",4,"ngIf"],[1,"float-right","btn","btn-primary",3,"routerLink"],[1,"btn","btn-primary","float-right",3,"click"]],template:function(t,n){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Cc(3,"Active Agent list"),i.Qb(),i.Ac(4,f,2,0,"h3",2),i.Ac(5,m,2,1,"div",3),i.Ac(6,v,2,0,"button",4),i.Qb(),i.Qb()),2&t&&(i.zb(4),i.kc("ngIf",n.loading),i.zb(1),i.kc("ngIf",!n.loading&&n.visitors),i.zb(1),i.kc("ngIf",!n.loading))},directives:[c.j,c.i,r.c],styles:[""]}),t})();const k=function(){return["/upscope/manager"]},Q=function(){return["/upscope/list"]};let y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-home"]],decls:8,vars:4,consts:[[1,"p-4"],[1,"mb-4"],[1,"d-flex","justify-content-around"],[1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"routerLink"]],template:function(t,n){1&t&&(i.Rb(0,"div",0),i.Rb(1,"h3",1),i.Cc(2,"Select your role!"),i.Qb(),i.Rb(3,"div",2),i.Rb(4,"button",3),i.Cc(5,"Manager"),i.Qb(),i.Rb(6,"button",4),i.Cc(7,"Client"),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.zb(4),i.kc("routerLink",i.nc(2,k)),i.zb(2),i.kc("routerLink",i.nc(3,Q)))},directives:[r.b],styles:[""]}),t})();var w=e("jhN1");function C(t,n){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"iframe",1),i.Qb()),2&t){const t=i.fc();i.zb(1),i.kc("src",t.url,i.uc)}}const I=[{path:"",component:b,children:[{path:"list",component:R},{path:"home",component:y},{path:"watch/:id",component:(()=>{class t{constructor(t,n,e,c){this.route=t,this.sanitizer=n,this.changeDetectorRef=e,this.upscope=c,this.id=null,this.data=null}ngOnInit(){this.route.paramMap.subscribe(t=>{this.id=t.get("id"),this.upscope.generateWatchUrl(this.id).subscribe(t=>{this.data=t,this.changeDetectorRef.markForCheck()})})}get url(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.data.url.watch_url)}}return t.\u0275fac=function(n){return new(n||t)(i.Mb(r.a),i.Mb(w.b),i.Mb(i.h),i.Mb(p))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-client-connection-page"]],decls:3,vars:1,consts:[[4,"ngIf"],["frameborder","0","width","100%","height","1000px",3,"src"]],template:function(t,n){1&t&&(i.Rb(0,"h2"),i.Cc(1,"You're now watching the user's interface"),i.Qb(),i.Ac(2,C,2,1,"div",0)),2&t&&(i.zb(2),i.kc("ngIf",n.id))},directives:[c.j],styles:[""],changeDetection:0}),t})()},{path:"manager",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-client-page"]],decls:6,vars:0,consts:[["href","http://54.37.228.73/city-planner-build/"]],template:function(t,n){1&t&&(i.Rb(0,"p"),i.Cc(1,"As an agent, you will be able to demonstrate pages that have Upscope installed and configured on them."),i.Qb(),i.Rb(2,"p"),i.Cc(3,"example: "),i.Rb(4,"a",0),i.Cc(5,"This city planner demo page"),i.Qb(),i.Qb())},styles:[""]}),t})()},{path:"",redirectTo:"home",pathMatch:"full"}]}];let z=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(n){return new(n||t)},imports:[[r.d.forChild(I)],r.d]}),t})();var L=e("1kSV");e.d(n,"UpscopeModule",(function(){return A}));let A=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(n){return new(n||t)},imports:[[c.b,z,L.b]]}),t})()}}]);